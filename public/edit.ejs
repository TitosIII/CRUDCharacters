<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css">
    <title>Document</title>
</head>
<body>
    <div class="container">
        <form action="/editdata" method="post">
            <div class="mb-3">
              <label class="form-label">Nombre</label>
              <input type="text" class="form-control" id="name" name="name" value="<%=data.body.name%>" onkeyup="this.value=NumText(this.value)" required>
            <div class="mb-3">
              <label class="form-label">Franquicia</label>
              <input type="text" class="form-control" id="franchise" name="franchise" value="<%=data.body.franchise%>" onkeyup="this.value=NumText(this.value)" required>
            </div>
            <div class="mb-3">
              <label class="form-label">Año de creación</label>
              <input type="text" class="form-control" id="year" name="year" value="<%=data.body.year%>" onkeyup="this.value=Numeros(this.value)" required>
            </div>
            <input type="hidden" name="oldname" value="<%=data.body.name%>">
            <button type="submit" class="btn btn-primary">Editar</button>
            <a href="/" type="submit" class="btn btn-secondary">Cancelar</a>
          </form>
    </div>
    <script>
      function NumText(string) {//solo letras y numeros
        var out = '';
        //Se añaden las letras validas
        var filtro = 'abcdefghijklmnñopqrstuvwxyzABCDEFGHIJKLMNÑOPQRSTUVWXYZ1234567890 ';//Caracteres validos
  
        for (var i = 0; i < string.length; i++)
          if (filtro.indexOf(string.charAt(i)) != -1)
            out += string.charAt(i);
        return out;
      }
  
      function Numeros(string) {//Solo numeros
        var out = '';
        var filtro = '1234567890';//Caracteres validos
  
        //Recorrer el texto y verificar si el caracter se encuentra en la lista de validos 
        for (var i = 0; i < string.length; i++)
          if (filtro.indexOf(string.charAt(i)) != -1)
            //Se añaden a la salida los caracteres validos
            out += string.charAt(i);
  
        //Retornar valor filtrado
        return out;
      } 
    </script>
</body>
</html>